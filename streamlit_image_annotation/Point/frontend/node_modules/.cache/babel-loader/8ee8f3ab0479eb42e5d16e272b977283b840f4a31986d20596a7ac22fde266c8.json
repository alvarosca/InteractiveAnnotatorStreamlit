{"ast":null,"code":"import _objectSpread from\"/home/DigPatho/InteractiveAnnotatorStreamlitV5/streamlit_image_annotation/Point/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/DigPatho/InteractiveAnnotatorStreamlitV5/streamlit_image_annotation/Point/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{Layer,Stage,Image}from'react-konva';import Point from'./Point';import Konva from'konva';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PointCanvas=function PointCanvas(props){var pointsInfo=props.pointsInfo,mode=props.mode,selectedId=props.selectedId,setSelectedId=props.setSelectedId,setPointsInfo=props.setPointsInfo,setLabel=props.setLabel,color_map=props.color_map,label=props.label,image_size=props.image_size,image=props.image,strokeWidth=props.strokeWidth;// Local states for zoom, position, and scrollbars\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),scale=_useState2[0],setScale=_useState2[1];var _useState3=useState({x:0,y:0}),_useState4=_slicedToArray(_useState3,2),position=_useState4[0],setPosition=_useState4[1];var stageRef=useRef(null);// Handle click on the canvas to create points or deselect them\nvar checkDeselect=function checkDeselect(e){if(!(e.target instanceof Konva.Circle)){if(selectedId===null){if(mode==='Transform'){var _stageRef$current;var pointer=(_stageRef$current=stageRef.current)===null||_stageRef$current===void 0?void 0:_stageRef$current.getPointerPosition();if(!pointer)return;var points=pointsInfo.slice();var new_id=Date.now().toString();points.push({x:(pointer.x-position.x)/scale,y:(pointer.y-position.y)/scale,label:label,stroke:color_map[label],id:new_id});setPointsInfo(points);setSelectedId(new_id);}}else{setSelectedId(null);}}};// Constrain points within the image\nuseEffect(function(){var points=pointsInfo.slice();for(var i=0;i<points.length;i++){points[i].x=Math.min(Math.max(points[i].x,0),image_size[0]);points[i].y=Math.min(Math.max(points[i].y,0),image_size[1]);}setPointsInfo(points);},[pointsInfo,image_size,setPointsInfo]);// Handle zooming with the mouse wheel\nvar handleWheel=function handleWheel(e){var _pointer$x,_pointer$y,_pointer$x2,_pointer$y2;e.evt.preventDefault();var stage=stageRef.current;if(!stage)return;var oldScale=scale;var pointer=stage.getPointerPosition();// Zoom factor (adjust this for faster/slower zoom)\nvar zoomAmount=e.evt.deltaY>0?0.9:1.1;var newScale=Math.max(0.5,Math.min(5,oldScale*zoomAmount));setScale(newScale);// Adjust position to keep the zoom centered\nvar mousePointTo={x:((_pointer$x=pointer===null||pointer===void 0?void 0:pointer.x)!==null&&_pointer$x!==void 0?_pointer$x:0-position.x)/oldScale,y:((_pointer$y=pointer===null||pointer===void 0?void 0:pointer.y)!==null&&_pointer$y!==void 0?_pointer$y:0-position.y)/oldScale};var newPos={x:(_pointer$x2=pointer===null||pointer===void 0?void 0:pointer.x)!==null&&_pointer$x2!==void 0?_pointer$x2:0-mousePointTo.x*newScale,y:(_pointer$y2=pointer===null||pointer===void 0?void 0:pointer.y)!==null&&_pointer$y2!==void 0?_pointer$y2:0-mousePointTo.y*newScale};setPosition(newPos);};// Handle panning using scrollbars\nvar handleHorizontalScroll=function handleHorizontalScroll(e){var scrollValue=Number(e.target.value);setPosition(function(prev){return _objectSpread(_objectSpread({},prev),{},{x:-scrollValue});});};var handleVerticalScroll=function handleVerticalScroll(e){var scrollValue=Number(e.target.value);setPosition(function(prev){return _objectSpread(_objectSpread({},prev),{},{y:-scrollValue});});};return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:image_size[0]*scale-window.innerWidth,value:-position.x,onChange:handleHorizontalScroll,style:{width:'100%'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"0\",max:image_size[1]*scale-window.innerHeight,value:-position.y,onChange:handleVerticalScroll,style:{height:'100vh',writingMode:'vertical-lr'}}),/*#__PURE__*/_jsxs(Stage,{ref:stageRef,width:window.innerWidth,height:window.innerHeight,onMouseDown:checkDeselect,onWheel:handleWheel,x:position.x,y:position.y,scaleX:scale,scaleY:scale,draggable:true,children:[/*#__PURE__*/_jsx(Layer,{children:/*#__PURE__*/_jsx(Image,{image:image,width:image_size[0],height:image_size[1]})}),/*#__PURE__*/_jsx(Layer,{children:pointsInfo.map(function(point,i){return/*#__PURE__*/_jsx(Point,{rectProps:point,scale:scale,strokeWidth:strokeWidth,isSelected:mode==='Transform'&&point.id===selectedId,onClick:function onClick(){if(mode==='Transform'){setSelectedId(point.id);var points=pointsInfo.slice();var lastIndex=points.length-1;var _ref=[points[lastIndex],points[i]];points[i]=_ref[0];points[lastIndex]=_ref[1];setPointsInfo(points);setLabel(point.label);}else if(mode==='Del'){var _points=pointsInfo.slice();setPointsInfo(_points.filter(function(p){return p.id!==point.id;}));}},onChange:function onChange(newAttrs){var points=pointsInfo.slice();points[i]=newAttrs;setPointsInfo(points);}},i);})})]})]})]});};export default PointCanvas;","map":{"version":3,"names":["React","useEffect","useRef","useState","Layer","Stage","Image","Point","Konva","jsx","_jsx","jsxs","_jsxs","PointCanvas","props","pointsInfo","mode","selectedId","setSelectedId","setPointsInfo","setLabel","color_map","label","image_size","image","strokeWidth","_useState","_useState2","_slicedToArray","scale","setScale","_useState3","x","y","_useState4","position","setPosition","stageRef","checkDeselect","e","target","Circle","_stageRef$current","pointer","current","getPointerPosition","points","slice","new_id","Date","now","toString","push","stroke","id","i","length","Math","min","max","handleWheel","_pointer$x","_pointer$y","_pointer$x2","_pointer$y2","evt","preventDefault","stage","oldScale","zoomAmount","deltaY","newScale","mousePointTo","newPos","handleHorizontalScroll","scrollValue","Number","value","prev","_objectSpread","handleVerticalScroll","style","display","flexDirection","children","type","window","innerWidth","onChange","width","innerHeight","height","writingMode","ref","onMouseDown","onWheel","scaleX","scaleY","draggable","map","point","rectProps","isSelected","onClick","lastIndex","_ref","filter","p","newAttrs"],"sources":["/home/DigPatho/InteractiveAnnotatorStreamlitV5/streamlit_image_annotation/Point/frontend/src/PointCanvas.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\nimport { Layer, Stage, Image } from 'react-konva';\nimport Point from './Point'\nimport Konva from 'konva';\n\nexport interface PointCanvasProps {\n  pointsInfo: any[],\n  mode: string,\n  selectedId: string | null,\n  setSelectedId: any,\n  setPointsInfo: any,\n  setLabel: any,\n  color_map: any,\n  scale: number,\n  label: string,\n  image_size: number[],\n  image: any,\n  strokeWidth: number\n}\n\nconst PointCanvas = (props: PointCanvasProps) => {\n  const {\n    pointsInfo,\n    mode,\n    selectedId,\n    setSelectedId,\n    setPointsInfo,\n    setLabel,\n    color_map,\n    label,\n    image_size,\n    image,\n    strokeWidth\n  }: PointCanvasProps = props\n\n  // Local states for zoom, position, and scrollbars\n  const [scale, setScale] = useState(1);\n  const [position, setPosition] = useState({ x: 0, y: 0 });\n  const stageRef = useRef<Konva.Stage>(null);\n\n  // Handle click on the canvas to create points or deselect them\n  const checkDeselect = (e: any) => {\n    if (!(e.target instanceof Konva.Circle)) {\n      if (selectedId === null) {\n        if (mode === 'Transform') {\n          const pointer = stageRef.current?.getPointerPosition();\n          if (!pointer) return;\n\n          const points = pointsInfo.slice();\n          const new_id = Date.now().toString()\n          points.push({\n            x: (pointer.x - position.x) / scale,\n            y: (pointer.y - position.y) / scale,\n            label: label,\n            stroke: color_map[label],\n            id: new_id\n          });\n          setPointsInfo(points);\n          setSelectedId(new_id);\n        }\n      } else {\n        setSelectedId(null);\n      }\n    }\n  };\n\n  // Constrain points within the image\n  useEffect(() => {\n    const points = pointsInfo.slice();\n    for (let i = 0; i < points.length; i++) {\n      points[i].x = Math.min(Math.max(points[i].x, 0), image_size[0]);\n      points[i].y = Math.min(Math.max(points[i].y, 0), image_size[1]);\n    }\n    setPointsInfo(points);\n  }, [pointsInfo, image_size, setPointsInfo]);\n\n  // Handle zooming with the mouse wheel\n  const handleWheel = (e: any) => {\n    e.evt.preventDefault();\n    const stage = stageRef.current;\n    if (!stage) return;\n\n    const oldScale = scale;\n    const pointer = stage.getPointerPosition();\n\n    // Zoom factor (adjust this for faster/slower zoom)\n    const zoomAmount = e.evt.deltaY > 0 ? 0.9 : 1.1;\n    const newScale = Math.max(0.5, Math.min(5, oldScale * zoomAmount));\n    setScale(newScale);\n\n    // Adjust position to keep the zoom centered\n    const mousePointTo = {\n      x: (pointer?.x ?? 0 - position.x) / oldScale,\n      y: (pointer?.y ?? 0 - position.y) / oldScale\n    };\n\n    const newPos = {\n      x: pointer?.x ?? 0 - mousePointTo.x * newScale,\n      y: pointer?.y ?? 0 - mousePointTo.y * newScale\n    };\n\n    setPosition(newPos);\n  };\n\n  // Handle panning using scrollbars\n  const handleHorizontalScroll = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const scrollValue = Number(e.target.value);\n    setPosition(prev => ({ ...prev, x: -scrollValue }));\n  };\n\n  const handleVerticalScroll = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const scrollValue = Number(e.target.value);\n    setPosition(prev => ({ ...prev, y: -scrollValue }));\n  };\n\n  return (\n    <div style={{ display: 'flex', flexDirection: 'column' }}>\n      {/* Horizontal scrollbar */}\n      <input\n        type=\"range\"\n        min=\"0\"\n        max={image_size[0] * scale - window.innerWidth}\n        value={-position.x}\n        onChange={handleHorizontalScroll}\n        style={{ width: '100%' }}\n      />\n\n      <div style={{ display: 'flex' }}>\n        {/* Vertical scrollbar */}\n        <input\n          type=\"range\"\n          min=\"0\"\n          max={image_size[1] * scale - window.innerHeight}\n          value={-position.y}\n          onChange={handleVerticalScroll}\n          style={{ height: '100vh', writingMode: 'vertical-lr' }}\n        />\n\n        <Stage\n          ref={stageRef}\n          width={window.innerWidth}\n          height={window.innerHeight}\n          onMouseDown={checkDeselect}\n          onWheel={handleWheel}\n          x={position.x}\n          y={position.y}\n          scaleX={scale}\n          scaleY={scale}\n          draggable\n        >\n          <Layer>\n            <Image image={image} width={image_size[0]} height={image_size[1]} />\n          </Layer>\n          <Layer>\n            {pointsInfo.map((point, i) => (\n              <Point\n                key={i}\n                rectProps={point}\n                scale={scale}\n                strokeWidth={strokeWidth}\n                isSelected={mode === 'Transform' && point.id === selectedId}\n                onClick={() => {\n                  if (mode === 'Transform') {\n                    setSelectedId(point.id);\n                    const points = pointsInfo.slice();\n                    const lastIndex = points.length - 1;\n                    [points[i], points[lastIndex]] = [points[lastIndex], points[i]];\n                    setPointsInfo(points);\n                    setLabel(point.label);\n                  } else if (mode === 'Del') {\n                    const points = pointsInfo.slice();\n                    setPointsInfo(points.filter(p => p.id !== point.id));\n                  }\n                }}\n                onChange={(newAttrs: any) => {\n                  const points = pointsInfo.slice();\n                  points[i] = newAttrs;\n                  setPointsInfo(points);\n                }}\n              />\n            ))}\n          </Layer>\n        </Stage>\n      </div>\n    </div>\n  );\n};\n\nexport default PointCanvas;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}